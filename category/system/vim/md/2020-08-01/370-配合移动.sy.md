---
show: step
version: 1.0
enable_checker: true
---

# 快速删除

## 回忆上节课内容🤔

- 以前知道可以在插入状态下使用<kbd>del</kbd> 、<kbd>退格</kbd>进行删除
- 现在知道了默认状态下使用通过`x`删除字符
	- 可以在`x`前面使用`[count]`进行翻倍
		- 如`10x`
	- 删除的字符存储在`""`寄存器中
	- 可以用`:reg`查看寄存器状态
- 默认状态可以使用`X`退格
	- 删除的字符也在`""`寄存器中
- 我们掌握了在vi中删除字符的各种方法
- 后面还有啥呢？🤔

## 删除字符

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210129-1611880688346)

- 我们发现dd可以删除一行
- 试一试？！🤪
- 删除的东西放到哪里呢？`:reg`

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210129-1611880847320)

- 还可以加`[count]`进行翻倍
- `5dd` 可以删除5行 ，删除之后，仍然把被删除的内容放到了`""`寄存器
- 那这个`motion`是什么意思呢？

### 运动帮助

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210129-1611881145129)

- 我们可以查询`motion`的文档呀！！！
- `h motion`
- `motion`就是光标运动
- 比如我们`G`就直接到文档最后一行
	- `dG`就是从光标当前位置删除到最后一行，太爽了！ 
- `gg`是到最开始的一行
	- `dgg`就是从光标位置到最开始都删除掉了！！！
- `8G`就是到第8行
	- 　`d8G`就是从光标位置到第8行都删除
	- 　如果总共只有4行，怎么办？
	- 　如果总共4行，`8G`就是道最后一行
	- 　所以，此时`d8G`就是什么，你懂的？
- 　试一试🤪

### 上下左右

- 光标运动的方式是`hjkl`
- 这些都是 `motion`
 
![hjkl](https://labfile.oss.aliyuncs.com/courses/2840/hjkl.png)

- 如果前面加上`d`,比如`dj`，就是删除当前行
	- 就是`dd`
	- 如果`d8j`就是删除当前光标位置下面的`8`行
	- 而`8dj`是将删除当前行这个操作执行`8`次
- 同样的`dk`是删除当前行上面的一行
	-  `d8k`和`8dk`都有各自含义
-  思考一下
	- `d8h`、`dl`分别是干什么？ 🤔

### 按单词删

- `wbe`还记得是什么意思么？
	- 不记得的话，就`h w`
	- `w`是到下一个`word`的开头
	- `b`是到当前`word`的开头
	- `e`是到当前`word`的结尾

![e2](https://labfile.oss.aliyuncs.com/courses/2840/whatisecommand)

- 所以我们知道
	- `dw`是从当前位置删除到下一个`word`的开头（删除包括中间的空格）
	- `d3w`是从当前位置删除到下3个`word`的开头
	- `de`是从当前位置删除到当前`word`的结尾（不删除空格）
	- `d4e`是从当前位置删除到下4个`word`的结尾（包括当前单词）
	- `db`是从当前位置删除到当前`word`的开头
	- `d2b`是从当前位置删除到当前单词前面`2`个word的开头（包括当前单词）
- 这个还得注意`word`和`WORD`的区别
	- `word`包括空格和各种标点作为分隔符
	- `WORD`只有空格被认作分割符
	- 比如`text-indent`就是`2个word`，也是`1个WORD`
	- `dW`就可以直接删除这个，这个很方便，尤其标识符里面有很多下划线的情况
- 说出大天也没有用，这个就得动手练！👊



### 行头行尾

- 行头
	-  <kbd>^</kbd> 是到本行第一个非空字符
	-  <kbd>0</kbd> 是到本行第一个字符，不管是不是空格
-  行尾
	- <kbd>g</kbd><kbd>_</kbd> 是到本行最后一个非空字符
	- 两个按键要依次按下
	- <kbd>$</kbd> 跳到本行最后一个字符，即使他是空格
	- 如果忘了就要`h $`查询一下 
	- 从光标删除到行尾这里可以使用<kbd>g</kbd>
	
![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210131-1612056852406)


- 删除呢？
	- `d^`就是从当前位置删除到本行第一个非空字符
	- `d0`就是从当前位置删除到本行第一个字符（不管他是否是空格）
	- `2d^`就是将`d^`执行`2`遍,其实和执行一遍没有区别
	- `d2^`就是`d`到`2^`和`d`到`^`，其实一样的
 
### 行内查找

![findo](https://labfile.oss.aliyuncs.com/courses/2840/findoch)

- 通过<kbd>f</kbd><kbd>o</kbd>直接就到了右边的 `o` 字符
- `dfo`就是从当前位置删除到`fo`的位置
	- `fo`的位置就是从当前位置向前查找到的第`1`个`o`的位置
- `d2fo`就是从当前位置删除到`2fo`的位置
	- `fo`的位置就是从当前位置向前查找到的第`2`个`o`的位置
- `2dfo`就是将`dfo`执行`2`遍
	- `dfo`就是从当前位置删除到`fo`的位置
	- `fo`的位置就是从当前位置向前查找到的第`1`个`o`的位置
- 这两个结果其实一样

![2fo](https://labfile.oss.aliyuncs.com/courses/2840/2findogoon)

- 反向查找的话是`F`

![findnext](https://labfile.oss.aliyuncs.com/courses/2840/findback.png)

- `dFo`是从当前位置删除到`Fo`的位置
	- `Fo`的位置是从当前位置反向查找第`1`个`o`的位置
- `dF2o`的位置是从当前位置删除到`F2o`的位置
	- `F2o`的位置是从当前位置反向查找第`2`个`o`的位置
- `2dFo`就是将`dFo`执行`2`遍
	- `dFo`就是从当前位置删除到`Fo`的位置
	- `Fo`的位置就是从当前位置反向查找到的第`1`个`o`的位置

### 行内贴靠

- 除了`f`之外我们还有`t`
- <kbd>f</kbd><kbd>e</kbd> 是把光标移动到`e`上面
- <kbd>t</kbd><kbd>e</kbd> 是把光标移动到`e`之前的字符上面

![helpt](https://labfile.oss.aliyuncs.com/courses/2840/tejumptille.png)

- `dt(`是指从当前位置删除到`t(`
	- `t(`是指贴靠到`(`
- 当然这个也可以通过`[count]`翻倍
- <kbd>2</kbd><kbd>t</kbd><kbd>o</kbd> 
- `till` 第2个 `o`

![tillgoon](https://labfile.oss.aliyuncs.com/courses/2840/tilljump.png)

- 和 `f` 相关的是跳跃
    - 向`前`跳跃是<kbd>f</kbd>
    - 向`后`跳跃是<kbd>F</kbd>
- 和 `t` 相关的是贴靠
    - 向`前`贴靠是<kbd>t</kbd>
    - 向`后`贴靠是<kbd>T</kbd>
- 和 `小写` 相关的是 `向前`
    - `向前` 跳跃是<kbd>f</kbd>
    - `向前` 贴靠是<kbd>t</kbd>

- 和 `大写` 相关的是 `向后`
    - `向后` 跳跃是<kbd>F</kbd>
    - `向后` 贴靠是<kbd>T</kbd>

### 全文查找

- 全文查找的两个命令是<kbd>/</kbd>和<kbd>?</kbd>
- `d/Code`如何执行？
	- 摁下<kbd>d</kbd>,注意状态栏
	- <kbd>/</kbd>然后状态栏只显示`/`
	- 输入`Code`注意状态栏
	- 文中查找`Code`并且高亮显示
	- 摁下回车把从当前光标一直到高亮显示的`Code`的位置
- 反向查找的话就是<kbd>?</kbd>
- 可以加翻倍`[count]`吗？
	- 可以的 　`3d/K`
- 动手试一下！！！👊


### 文本区块


- 使用{、},让光标前后移动段落
- 使用(、),让光标前后移动句子
- 可以使用`[count]`翻倍
- `:h }`来查看文档

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20201003-1601720755701)


![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20201003-1601720937461)

- 这些也是`motion`可以和`d`配合
- 比如`d{`、`d3)`


## 总结
- 我们大幅度地复习了整个`motion`
	- 首行<kbd>g</kbd> <kbd>g</kbd> 、末行<kbd>G</kbd> 、第n行<kbd>n</kbd> <kbd>G</kbd> 
	- 光标运动的方式是<kbd>h</kbd> <kbd>j</kbd> <kbd>k</kbd> <kbd>l</kbd> 
	- 单词运动`wbe`
		- <kbd>w</kbd> 是到下一个`word`的开头
		- <kbd>b</kbd> 是到当前`word`的开头
		- <kbd>e</kbd> 是到当前`word`的结尾
		- 除了`word`之外还有`WORD`
	- 行头行尾
		- <kbd>^</kbd> 是到本行第一个非空字符
		- <kbd>0</kbd> 是到本行第一个字符，不管是不是空格
		- <kbd>g</kbd><kbd>_</kbd> 是到本行最后一个非空字符
		- <kbd>$</kbd> 跳到本行最后一个字符，即使他是空格
	- 行内跳跃和贴靠
	    - 向`前`跳跃是<kbd>f</kbd>
	    - 向`后`跳跃是<kbd>F</kbd>
	    - 向`前`贴靠是<kbd>t</kbd>
	    - 向`后`贴靠是<kbd>T</kbd>
	- 全文查找
		- 查找的话就是<kbd>/</kbd>
		- 反向查找的话就是<kbd>?</kbd>	
	- 文本区块
		- <kbd>{</kbd>、<kbd>}</kbd>按段落移动
		- <kbd>(</kbd>、<kbd>)</kbd>按句子移动
- 这些`motion`都可以 <kbd>d</kbd>配合使用，完成快速删除的工作
- 过程中还可以使用`[count]`进行翻倍
- 删除的内容，放在`""`寄存器中
- 那这个放在寄存器的内容，我想粘贴到别的地方，怎么办呢？🤔
- 下次再说 👋






