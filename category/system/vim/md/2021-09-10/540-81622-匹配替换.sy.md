---
show: step
version: 1.0
enable_checker: true
---

# 查找细节

## 回忆上节课内容🤔
- 我们学习了 
	- 替换 `substitude` 
- 替换单行
	- `:s/shiyanlou/oeasy` 
- 加上`range`
	- `:3,5s/shiyanlou/oeasy`  
	- `:%s/shiyanlou/oeasy`  
- 加上`flag`
	- `:3,5s/shiyanlou/oeasy/g` 多个替换
	- `:3,5s/shiyanlou/oeasy/gc` 多个替换且逐个确认
- 还有有一些什么玩法吗？🤔
- 这就涉及到模式匹配

### 模式 - 列举字符
- `[abcd]  `    
	- 表示匹配方括号中列举的 
	- 任意一个 字符
	- 即匹配 abcd 中的任意一个字符。
- `[a-z]`
	- 可用 - 表示字符范围来减少列举的
	- `[a-d]` 等价于 `[abcd]`
- `[^abcd]`
	- 表示匹配除方括号中字符以外的任意字符
	- 除了 `abcd `之外的任意字符
### 模式 - 常用符号
- `. `               
	- 等价于 `[^\n]`
	- 表示匹配 任意一个除换行符` ( \n ) `外的其他字符
- `\l `             
	- 等价于 `[a-z]`
	- 表示匹配 任意一个`小写字母`
- `\L `
	- 等价于 `[^a-z]`
	- 表示匹配 任意一个`除小写字母外的其他字符`
- `\u `
	- 等价于 `[A-Z]`
	- 表示匹配 任意一个`大写字母`
- `\U`
	- 等价于` [^A-Z]`
	- 表示匹配 `任意一个除大写字母外的其他字符`
- `\w`
	- 等价于` [0-9A-Za-z_]`
	- 表示匹配 `任意一个单词字母`
- `\W`
	- 等价于` [^0-9A-Za-z_]`
	- 表示匹配 `任意一个除单词字母外的其他字符`
- `\d`
	- 等价于 `[0-9]`
	- 表示匹配 `任意一个阿拉伯数字`
- `\D `
	- 等价于` [^0-9]`
	- 表示匹配` 任意一个除阿拉伯数字外的其他字符`
- `\x`
	- 等价于 `[0-9A-Fa-f]`
	- 表示匹配 `任意一个十六进制数字`
- `\X`
	- 等价于 `[^0-9A-Fa-f]`
	- 表示匹配 `任意一个除十六进制数字外的其他字符`
- `\s `
	- 包括两种`分隔符`
	-  `空格` 和 `tab`

### 帮助手册

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210202-1612267005280)

- 然后我们明确一下起止标记

	- `^`                表示匹配 输入字符串的开始位置 (行首)。
	- `$  `              表示匹配 输入字符串的结束位置 (行尾)。
	-` \<  `            表示匹配 单词词首。
	- `\>   `           表示匹配 单词词尾。

### 对应单词
- `:%s/four/4/g` 
	- 把所有的`four`替换为`4`
- 但是同时`twenty-four`
	- 被替换为`twenty-4`
- 这不合理
- 我们需要`:%s/\<four\>/4/g
	- `\<four\>`匹配独立的`four`
	- 这样替换就合理了

### 单词匹配

- 如果我们要替换所有的以`a`开头`d`结尾的单词
	- 不允许在词中进行替换`oeasy`
	- `:%s/\<a.*d\>/oeasy/g`
- `add`、`and` 被替换
- `band` 不被替换

### 删除空行
- 首先我们找到空行 `/^$`
- 从开头 `^` 到结尾 `$` 中间没东西
- 找到了以后，我们来替换
	- `%s/^$//`这并不能删除
	- 删完了之后空行还是存在
- 我们可以使用`g`命令
	- `:g/^*$/d`
- 如果开头结尾之间有空格怎么办？
	- `/^\s*$` 先找到匹配
	- `:g/^\s*$/d`


### 转义字符
- 如果我们要删除所有`//`开头的行
	- 这个`/`需要转义
	- 先搜索/^\/\/.*$
- `:%s/^\/\/.*$//g`
	- 删除了注释内容
	- 但是但空行还在
- `:g/^\/\/.*$/d`
	- 删除了空行
	- 但是开头有空格和tab的无法删除
- `:g/^\s*\/\/.*$/d`
	- 把 `\\` 前面有空格和tab的也删除了 




## 总结
- 进行了模式匹配批量替换的的操作
- 替换单词
	- `:%s/\<a.*d\>/oeasy/g`
- 转义字符
	- `%s/^\/\/.*$/d`
- 删除空行
	- `:g/^\s*$//d` 
- 还有替换还有一些什么玩法吗？🤔
- 下次再说 👋






