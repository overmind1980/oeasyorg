---
show: step
version: 1.0
enable_checker: true
---

# 我在哪？

## 回忆上次内容 😌
- 我们研究了三大发行版家族
	- debian
	- 红帽
	- suse
- `ls`是`list`的意思
- `cat` 是 `concatenate` 的命令的缩写
- `/etc/*release` 是参数
- 指的是根（`root`）下的 etc 文件夹下的所有以 `release` 结尾的文件
- 整个命令是要把根（`root`）下的 `etc` 文件夹下的所有以 `release` 结尾的文件内容拼合输出
### 做起来
**我们上次列出了关于发行版详细信息文件的位置。**

```shell
ls /etc/*release
```

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210909-1631157062687)

这样我们就可以得到当前发行版的详细信息了 🤗

**除了`/etc` 之外，哪里还有好玩的呢？**🤔

### 跳跃

**我们如何在各个文件夹之间任意跳跃呢？**

`cd=change directory` 意思是改变文件夹。

```shell
cd /etc
ls *release
cat *release
```

- cd /etc 把文件夹跳到 `/etc`（根下的 etc 下）
- ls \*release 查看当前目录下所有以 release 结尾文件
- cat \*release 把所有以 release 结尾的文件内容合并输出
- **我们如何知道当前在什么文件夹下呢？**🤔

### pwd 的用法

- **`pwd=print working directory` **
	- 输出当前文件夹

- 比如
- 这次我们跳到根下的 `/boot` 文件夹


```shell
cd /boot
ls
pwd
```

### boot 的用法

**这个 `boot` 文件夹是干什么的呢？**🤔

![Image text](https://labfile.oss.aliyuncs.com/courses/2712/bootstrap)

- boot 是靴子
- bootstrap 是靴子后边的带子 （功能相当于鞋拔子）

#### 在计算机系统中

- boot 是启动
- bootstrap 是引导程序
- 怎么启动的呢？
- 首先是从读硬盘开始的

### 硬盘

- 那我们是如何读硬盘的呢？🤔
- 硬盘本身是存储0101之类的数据
- 而且需要驱动起来
- 但是系统都没有加载哪里来的驱动？

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210909-1631157650603)

### 启动 boot
- 是这样的...🤭

1. 关机状态中，内核和整个系统最开始在硬盘里
2. 引导程序通过 cpu 把内核从硬盘的 /boot 目录加载到内存中
3. cpu 开始执行内存中的内核对应的指令
4. 内核完成初始化
5. 内核接管了系统资源（cpu、内存、外设）
6. 操作系统完成启动过程
7. 等待下一步输入的指令

#### 启动之后，外面的指令要求运行某个程序

1. 分配内存
2. 把程序从硬盘加载到内存中
3. 分配 cpu 资源去执行程序


## 内存

### 什么是内存 🤔

**内存也称主存 Main Momeory**。内存是能够直接被 cpu 操作的存储器。而硬盘光驱是外存，外存中的数据只有先调入内存后才能被中央处理器访问、处理。

#### 即使是超级计算机，原理也是一样的

[世界上前 500 的计算机](https://top500.org/lists/top500) 中，90% 以上使用的 linux 目前居于第四位的是 [无锡国家超算中心](http://www.nsccwx.cn/) 的 [神威·太湖之光](https://top500.org/system/178764/)， 我们可以去看看他有多少的 cpu 核心、内存。

![Image text](https://labfile.oss.aliyuncs.com/courses/2712/shenwei.png)

这么多 cpu 核心，这么大内存，而且是国内第一台全部采用国产处理器 [申威 26010](https://baike.baidu.com/item/%E7%94%B3%E5%A8%81%E5%A4%84%E7%90%86%E5%99%A8/9468374) 构建的超算！使用的内核原理和我们的小服务器也是相通的。👍



### 在哪可以查看内存 🤔

这个我们要进入根下的/proc 文件夹

```shell
cd /proc
cat meminfo
pwd
```

### proc

**proc 是什么意思？**🤔

proc 指的是 process（进程）， 进程就是被内核从硬盘加载到内存的，正在运行着的程序。

#### 程序不是在硬盘，然后被加载到内存才算进程么？怎么进程又在硬盘里了

内存里面的进程会同步到硬盘里面的 proc 文件夹做记录。有的时候内存不够，还需要一部分硬盘做为虚拟内存使用。
那这里到底有什么？我们用 ls 来 list 一下 😎

```shell
cd /proc
ls
```
![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210910-1631236686233)

### 文件夹

- 我们可以发现有些蓝色的数字对应的文件夹
- 这些蓝色数字文件夹对应着进程

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210910-1631236886391)

- `ps -aux`
### 文件
- 发现：
  - version
  - dmazoneinfo
  - cpuinfo
- 这些文件里面有什么信息呢？
- 接下来咱们用 cat，看看去？
- 走！🤪
